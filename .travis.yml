language: ruby
rvm:
- 2.6.2
before_install:
- gem update --system
- gem install bundler
- pyenv global 3.6.3
- pip install --upgrade pip
- pip install proselint
- pip install pipenv
install:
- bundle install
- npm install -g htmlhint csslint
script:
- mdl README.md
- mdl _posts
- proselint README.md
- proselint _posts
- jekyll build
- htmlproofer ./_site
- htmlhint ./_site
- csslint ./_site
env:
  global:
  - PIPENV_VENV_IN_PROJECT=1
  - PIPENV_IGNORE_VIRTUALENVS=1
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
addons:
  apt:
    packages:
    - libcurl4-openssl-dev
sudo: false
cache: bundler
notifications:
  email: false
deploy:
  provider: rubygems
  api_key:
    secure: J2i+BwpFTI/QZrNlwXfjMdRl/Y9jlToT8oT9EFW64qUh+gX/ZxvMLIxcBEErMdJGlkRaPtUPyh7pOojlHrZBviMwtGASGwbG8aeA7usQo0VqFQLH3NItOj/SefZOubMZM3FQCgH1IBSOdypi3JcAQFu5wD9ea+8aFoExWqu/4S0bZ6qIGMfLmznBgEtepEhaRPFJEBO55fQnJHWlMz0Ldge/hVnYYbfvMd+XVH9pJ6iRFUzotsLaCzOiJKU0ufdmc9t1Bh1hMOU/PDoYTuVFz4/TXyCxeIc3M+nJlMb5JfYYwWNUXIG9uFgZ+po/xUPyroXpf5CGZuU36u0Yz74zCVygW0mmMZoQZFlgM6ZqqKx0VQKWIZjjm4m+SGEAbwpGNlaaA+OAAQnSGqKvNXFiq8uJnq8VYU+OY7QduHxGxRHx0QstO/k9rCbORAdEVoPm7swDO37Xk1S5SjALMIk50ly7/RpFLG8hF3uG2WWKDKY54isnEYBaFObHa1BCdgOyj1dgP/Rwg8quv56/C0wBOXF6KMmiYuGKMtK3JQqtzOqcKuDnxHPExAhEyiE+GIkBSp9X+Ck7Ywoqy5wDVmFnktTQDx8fAlbMthP6kqCSO3Mv/iLH0Yauvuj2Ws5hirqynfYXAQJ9fLiQaSp8oyNsV5UXL5E02E8uamzzgRI/Ahg=
  gem: jekylldark
  on:
    repo: sutterj/jekylldark
