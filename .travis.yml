language: ruby
rvm:
- 2.4.1
before_install:
- gem update --system
- gem install bundler
- pyenv global 3.6.3
- pip install --upgrade pip
- pip install proselint
- pip install pipenv
install:
- bundle install
- npm install -g htmlhint csslint
script:
- mdl README.md
- mdl _posts
- proselint README.md
- proselint _posts
- jekyll build
- htmlproofer ./_site
- htmlhint ./_site
- csslint ./_site
env:
  global:
  - PIPENV_VENV_IN_PROJECT=1
  - PIPENV_IGNORE_VIRTUALENVS=1
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
addons:
  apt:
    packages:
    - libcurl4-openssl-dev
sudo: false
cache: bundler
notifications:
  email: false
deploy:
  provider: rubygems
  api_key:
    secure: XNHMqU83Bnvb3UiecJgGFntoLUiKxMVQfxulkf3RbrdV2X3zpi5JSP434WVlncIr96BwK9BwPTFK1Jb9NH8TRKNGxd1NWwYI7WF8PgW5ppeAQdseT+leXJUdZeKMy0+aYd24YR/D+FM2qvZYM9OI3sjv5aIMmRhBOOEyD/xAyniT09ZThhgTWxR60m3DLimfowaa0QzSM7a7e6/8pZvHu94ZDSHIlYKBkIms1OXEetGxsbuh9t8iaFChzkj6hj41Mc+ALteILeJWCVpoXsxPOE/ZU+pkMphESiig54+yGpvwR+1NRxAYLZXDTB3JMECIUNoHdhiqMGceIydFxxHgR5iWFCaHV51+FfUY8V+6yuE+CWEnKlpp41xs3Z/jhivn6i/9J/n0BZmzaXq0HIBxIYHPcAPdY4xuIw3/k1EB52S3zS/iTT7K9Ck+kVeH3nVOOvWluKpz25TJ3S04AtYeHCjtepn0JTqpThnRFkge6PQFhOOc3jCHmbuzDLFnziG1wqvO0/64/GcNwoRhk8QHiWhND16cQCgbxoapCWY23pDMABRrLEqM5wfp/6WUzwKSYnErhMNwmEiQQtQE2TlFe+BY2gAA5Nzj5RftqmjH93u2ZHeA/KmNhv3CQ0ng2YVob/1uVTtuLbTt9+kyx4RWwPzsmmJoi62aIB+ucTpnjQg=
  gem: jekylldark
  on:
    repo: sutterj/jekylldark
